<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ดาวน์โหลดเอกสาร</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Prompt', sans-serif;
            background-color: #f7fafc;
        }
        .menu-button {
            transition: all 0.3s ease;
        }
        .menu-button:hover {
            transform: translateY(-6px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
        }
        .section {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .breadcrumb-item:not(:last-child)::after {
            content: '>';
            margin: 0 0.5rem;
            color: #9ca3af;
        }
        .document-preview {
            position: relative;
            padding-top: 141.42%; /* Aspect Ratio 1:1.414 (A4) */
            height: 0;
            overflow: hidden;
            border-radius: 0.5rem;
            border: 1px solid #e5e7eb;
        }
        .document-preview iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }
        .download-button {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(37, 99, 235, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(37, 99, 235, 0); }
            100% { box-shadow: 0 0 0 0 rgba(37, 99, 235, 0); }
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-4xl mx-auto bg-white rounded-2xl shadow-xl p-6 sm:p-10">
        
        <header class="mb-8">
            <h1 id="header-title" class="text-3xl sm:text-4xl font-bold text-gray-800 text-center">ดาวน์โหลดเอกสาร</h1>
            <div id="breadcrumbs" class="flex justify-center text-sm text-gray-500 mt-3 flex-wrap"></div>
        </header>

        <section id="main-menu" class="section active">
            <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4 sm:gap-6">
                <button onclick="navigateTo('loan-menu', 'เลือกประเภทเงินกู้')" class="menu-button bg-blue-500 text-white rounded-xl p-4 flex flex-col items-center justify-center h-32 sm:h-36">
                    <img src="https://img.icons8.com/plasticine/100/000000/receive-cash.png" alt="เงินกู้" class="w-12 h-12 sm:w-16 sm:h-16 mb-2">
                    <span class="font-semibold text-center">เงินกู้</span>
                </button>
                <a href="#" class="menu-button bg-green-500 text-white rounded-xl p-4 flex flex-col items-center justify-center h-32 sm:h-36">
                    <img src="https://img.icons8.com/plasticine/100/000000/safebox.png" alt="เงินฝาก" class="w-12 h-12 sm:w-16 sm:h-16 mb-2">
                    <span class="font-semibold text-center">เงินฝาก</span>
                </a>
                <a href="#" class="menu-button bg-purple-500 text-white rounded-xl p-4 flex flex-col items-center justify-center h-32 sm:h-36">
                    <img src="https://img.icons8.com/plasticine/100/000000/trust.png" alt="สวัสดิการ" class="w-12 h-12 sm:w-16 sm:h-16 mb-2">
                    <span class="font-semibold text-center">สวัสดิการ</span>
                </a>
                <a href="#" class="menu-button bg-yellow-500 text-white rounded-xl p-4 flex flex-col items-center justify-center h-32 sm:h-36">
                    <img src="https://img.icons8.com/plasticine/100/000000/user-group-man-woman.png" alt="สมาชิก" class="w-12 h-12 sm:w-16 sm:h-16 mb-2">
                    <span class="font-semibold text-center">สมาชิก</span>
                </a>
                <a href="#" class="menu-button bg-red-500 text-white rounded-xl p-4 flex flex-col items-center justify-center h-32 sm:h-36 col-span-2 sm:col-span-1 md:col-span-1">
                    <img src="https://img.icons8.com/plasticine/100/000000/plus-math.png" alt="อื่นๆ" class="w-12 h-12 sm:w-16 sm:h-16 mb-2">
                    <span class="font-semibold text-center">อื่นๆ</span>
                </a>
            </div>
        </section>

        <section id="loan-menu" class="section">
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6">
                <button onclick="navigateTo('emergency-loan-options', 'เงินกู้ฉุกเฉิน')" class="menu-button bg-red-500 text-white rounded-xl p-4 flex flex-col items-center justify-center h-36">
                    <img src="https://img.icons8.com/plasticine/100/000000/error.png" alt="ฉุกเฉิน" class="w-16 h-16 mb-2">
                    <span class="font-semibold text-lg">ฉุกเฉิน</span>
                </button>
                <a href="#" class="menu-button bg-cyan-500 text-white rounded-xl p-4 flex flex-col items-center justify-center h-36">
                    <img src="https://img.icons8.com/plasticine/100/000000/document.png" alt="สามัญ" class="w-16 h-16 mb-2">
                    <span class="font-semibold text-lg">สามัญ</span>
                </a>
                <a href="#" class="menu-button bg-indigo-500 text-white rounded-xl p-4 flex flex-col items-center justify-center h-36">
                     <img src="https://img.icons8.com/plasticine/100/000000/star.png" alt="พิเศษ" class="w-16 h-16 mb-2">
                    <span class="font-semibold text-lg">พิเศษ</span>
                </a>
            </div>
        </section>

        <section id="emergency-loan-options" class="section">
             <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6">
                <button onclick="navigateTo('document-page', 'สัญญากู้เงินฉุกเฉิน')" class="menu-button bg-orange-500 text-white rounded-xl p-4 flex flex-col items-center justify-center h-36">
                    <img src="https://img.icons8.com/plasticine/100/000000/contract.png" alt="ฉุกเฉิน" class="w-16 h-16 mb-2">
                    <span class="font-semibold text-lg">ฉุกเฉิน</span>
                </button>
                <a href="#" class="menu-button bg-teal-500 text-white rounded-xl p-4 flex flex-col items-center justify-center h-36">
                    <img src="https://img.icons8.com/plasticine/100/000000/atm.png" alt="ฉุกเฉิน ATM" class="w-16 h-16 mb-2">
                    <span class="font-semibold text-lg">ฉุกเฉิน ATM</span>
                </a>
            </div>
        </section>

        <section id="document-page" class="section">
            <div class="document-preview bg-gray-100">
                <iframe src="https://drive.google.com/file/d/1Hn3uRdWGm3ijAYPqh1BRlsZp36SxALEJ/preview" loading="lazy"></iframe>
            </div>
            <div class="mt-8 flex flex-col sm:flex-row justify-center gap-4">
                <a id="download-link" href="#" class="download-button w-full sm:w-auto flex items-center justify-center bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg transition-all">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" /></svg>
                    ดาวน์โหลดสัญญา
                </a>
                <button onclick="navigateTo('main-menu', 'ดาวน์โหลดเอกสาร')" class="w-full sm:w-auto flex items-center justify-center bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-8 rounded-lg transition-all">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" /></svg>
                    กลับหน้าหลัก
                </button>
            </div>
        </section>

    </div>

    <script>
        const navigationHistory = [];

        function updateBreadcrumbs() {
            const breadcrumbsContainer = document.getElementById('breadcrumbs');
            breadcrumbsContainer.innerHTML = '';
            navigationHistory.forEach((item, index) => {
                const button = document.createElement('button');
                button.textContent = item.title;
                button.className = 'breadcrumb-item hover:underline';
                if (index === navigationHistory.length - 1) {
                    button.classList.add('font-semibold', 'text-gray-800');
                    button.disabled = true;
                } else {
                    button.classList.add('text-blue-600');
                    button.onclick = () => {
                        // Go back to this state
                        while (navigationHistory.length - 1 > index) {
                            navigationHistory.pop();
                        }
                        const targetState = navigationHistory.pop();
                        navigateTo(targetState.id, targetState.title, true);
                    };
                }
                breadcrumbsContainer.appendChild(button);
            });
        }

        function navigateTo(pageId, pageTitle, isBack = false) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.style.display = 'none';
                section.classList.remove('active');
            });

            // Show target section
            const targetPage = document.getElementById(pageId);
            targetPage.style.display = 'block';
            targetPage.classList.add('active');

            // Update header title
            document.getElementById('header-title').textContent = pageTitle;
            
            // Manage history
            if (!isBack) {
                if (pageId === 'main-menu') {
                     navigationHistory.length = 0; // Clear history
                }
                navigationHistory.push({ id: pageId, title: pageTitle });
            }
             if (navigationHistory.length <= 1) {
                 document.getElementById('breadcrumbs').style.display = 'none';
             } else {
                 document.getElementById('breadcrumbs').style.display = 'flex';
             }

            updateBreadcrumbs();
        }

        // --- MOBILE DOWNLOAD FIX ---
        document.getElementById('download-link').addEventListener('click', function(event) {
            event.preventDefault(); // Prevent default link behavior
            
            const fileId = '1Hn3uRdWGm3ijAYPqh1BRlsZp36SxALEJ';
            const downloadUrl = `https://drive.google.com/uc?export=download&id=${fileId}`;
            
            // This method is more reliable across mobile and desktop browsers
            window.open(downloadUrl, '_blank');
        });
        
        // Initial page load
        document.addEventListener('DOMContentLoaded', () => {
            navigateTo('main-menu', 'ดาวน์โหลดเอกสาร');
        });

    </script>
</body>
</html>
